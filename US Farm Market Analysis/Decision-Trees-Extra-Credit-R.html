<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Introduction​, Farms​">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>Decision Trees Extra Credit R</title>
    <link rel="stylesheet" href="page.css" media="screen">
<link rel="stylesheet" href="Decision-Trees-Extra-Credit-R.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="page.js" defer=""></script>
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i|Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i">
    
    
    
    
    

    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Decision Trees Extra Credit R">
    <meta property="og:type" content="website">
  </head>
  <body class="u-body u-custom-color-4"><header class="u-clearfix u-custom-color-2 u-header u-header" id="sec-0fb1"><div class="u-align-left u-clearfix u-sheet u-sheet-1"></div></header>
    <section class="u-clearfix u-custom-color-2 u-section-1" id="sec-fe08">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h2 class="u-align-center u-text u-text-custom-color-6 u-text-1">
          <span style="font-size: 3rem;">
            <span style="font-weight: 700;">*EXTRA CREDIT*</span>
            <br>(R text data)
          </span>
        </h2>
        <p class="u-align-left u-text u-text-custom-color-3 u-text-2"> The text data is the same used in Python text data clustering page - the text data gathered from PubAg website. The text file contains five labelled data - "Diary", "Corn", "Organic Farms", "Wheat", and "Farms". Since it's beeing processed by the ​CountVectorizer package in Python, the text data is almost clean and needed to be further analyzed by R.<br>
          <br>The R markdown file is embeded below<span style="font-weight: 700;">&nbsp;<a href="files/ex_RtextdataDT.pdf" class="u-active-none u-border-none u-btn u-button-style u-hover-none u-none u-text-palette-1-base u-btn-1">(dowonload)</a>
          </span>:<br>
        <embed src="files/ex_RtextdataDT.pdf#toolbar=0&embedded=true&zoom=140" style="-webkit-transform:scale(1);-moz-transform-scale(1)" width="100%" height="1300px" frameborder="0">
        <br>
        <br>
        <br>Take a glance of the text data in word count format&nbsp;<span style="font-weight: 700;">
            <a href="files/Word_count_labeled.csv" class="u-active-none u-border-none u-btn u-button-link u-button-style u-file-link u-hover-none u-none u-text-palette-1-base u-btn-2">(dowonload)</a>
          </span>&nbsp;:<br>
        </p>
        <img class="u-expanded-width u-image u-image-default u-image-1" src="images/ScreenShot2021-11-13at10.46.03PM.png" alt="" data-image-width="1754" data-image-height="920">
      </div>
    </section>
    <section class="u-clearfix u-custom-color-2 u-section-2" id="sec-d631">
      <div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-text u-text-custom-color-3 u-text-1">
          <span style="font-weight: 700;">Decision Tree One</span>
          <br>
          <br>
          <br>
        </p>
        <img class="u-file-link u-image u-image-default u-image-1" src="images/ec_dt1.png" alt="" data-image-width="3072" data-image-height="1864" data-href="files/ec_dt1.png" data-target="_blank">
        <p class="u-text u-text-custom-color-3 u-text-2">The&nbsp;​first decision tree created by <i>rpart() </i>function took the default cp value, default class type and "information" as the split method. The graph took the longest time to generate since the size of the tree is quite large.<br>
          <br>Since the tree is large, it's greate to see the cp plot to check overfitting.<br>Below is the cp plot generated from this tree:<br>
        </p>
        <img class="u-file-link u-image u-image-default u-image-2" src="images/ec_cpplot.png" alt="" data-image-width="1028" data-image-height="900" data-href="files/cpplot.png" data-target="_blank">
        <p class="u-text u-text-custom-color-3 u-text-3">From the plot, we can tell the margin is when cp is less than 0.015. If cp is bigger than that, the tree is smaller. Other wise, if cp is smaller than that, the tree is bigger and the result will be overfitting. cp value is one of the key features in valuing decision tree models.<br>
          <br>Let's take a look at the heatmap based on the confusion matrix of this tree:
        </p>
        <img class="u-file-link u-image u-image-default u-image-3" src="images/ec_cnofusionmatrix1.png" alt="" data-image-width="1030" data-image-height="900" data-href="files/confusionmatrix1.png" data-target="_blank">
      </div>
    </section>
    <section class="u-clearfix u-custom-color-2 u-section-3" id="sec-a8e4">
      <div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-text u-text-custom-color-3 u-text-1">The heatmap from the confusion matrix okay. The size of the tree is 47 which is way bigger than the marginal tree size 8. The tree is overfitting.<br>
          <br>
          <span style="font-weight: 700;">Decision Tree Two</span>
          <br>
        </p>
        <img class="u-file-link u-image u-image-default u-image-1" src="images/ec_dt2.png" alt="" data-image-width="1124" data-image-height="858" data-href="files/dt2new.png" data-target="_blank">
        <p class="u-text u-text-custom-color-3 u-text-2">The second decision tree is generated under cp=0.04, type is chosen to be "Class", and split is set to default. The size of the tree is 4 which is less than the marginal tree size. We can predict that the tree is too small to have a small X-val Relative Error.<br>
          <br>Let's take a look at the heatmap base on the confusion matrix:<br>
        </p>
        <img class="u-file-link u-image u-image-default u-image-2" src="images/ec_confusionmatrix2.png" alt="" data-image-width="1124" data-image-height="858" data-href="files/confusionmatrix2.png">
        <p class="u-text u-text-custom-color-3 u-text-3">This one is neater than the first one even though the tree size is small. For now, this tree is better than the first one.<br>
          <br>
          <span style="font-weight: 700;">Decision Tree Three</span>
        </p>
        <img class="u-file-link u-image u-image-default u-image-3" src="images/ec_dt3.png" alt="" data-image-width="3000" data-image-height="1864" data-href="files/dt3new.png" data-target="_blank">
        <p class="u-text u-text-custom-color-3 u-text-4"> &nbsp;The third tree - here cp is 0.1 and “information” is chosen for the split method instead of the
default which is GINI measure. The size of the tree is 3. It's not overfitting since the margin of the tree size is 8.<br>
          <br>Let's look at the heatmap based on the confusion matrix:
        </p>
        <img class="u-image u-image-default u-image-4" src="images/ec_confusionmatrix3.png" alt="" data-image-width="1124" data-image-height="858">
      </div>
    </section>
    <section class="u-border-2 u-border-custom-color-2 u-clearfix u-custom-color-2 u-section-4" id="sec-11cd">
      <div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-align-left u-text u-text-custom-color-3 u-text-1">From the heatmap distribution, we can see that the third tree is not as nice as the second one. The cp value is relatively smaller.<br>
          <br>Also, based on the cp plot, we know the margin of the tree size is 8, and the according cp value is 0.015. I would choose the second decision tree to be the best prediction model in this case.<br>
          <br>
        </p>
      </div>
    </section>
    
    
    <footer class="u-align-center u-clearfix u-custom-color-1 u-footer u-footer" id="sec-9ddc"><div class="u-align-left u-clearfix u-sheet u-sheet-1"></div></footer>
    <section class="u-backlink u-clearfix u-grey-80">
    </section>
  </body>
</html>